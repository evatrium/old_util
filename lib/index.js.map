{"version":3,"file":"index.js","sources":["../src/browser.js","../src/checks.js","../src/constants.js","../src/dateTime.js","../src/debounce.js","../src/typeChecking.js","../src/deepCopy.js","../src/Subie.js","../src/events.js","../src/extend.js","../src/jsonParse.js","../src/localStore.js","../src/Q.js","../src/rando.js","../src/routing.js","../src/ScrollLocker.js","../src/sorting.js","../src/strings.js","../src/styles.js","../src/uniqueId.js","../src/validators.js","../src/webComponents.js"],"sourcesContent":["export const isBrowser = typeof window !== 'undefined';\nexport const ifBrowser = (callback, fallback) => isBrowser ? callback() : fallback;\n\nexport const is_ie_or_old_edge = () => ifBrowser(() =>\n    navigator.userAgent.indexOf(\"MSIE\") !== -1\n    || !!winodw.StyleMedia\n    || !!document.documentMode === true\n);\n\nexport const isChrome = () => ifBrowser(() => {\n    let isChromium = window.chrome,\n        winNav = window.navigator,\n        vendorName = winNav.vendor,\n        isOpera = typeof window.opr !== \"undefined\",\n        isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n        isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\n    return isIOSChrome || isChromium !== null &&\n        typeof isChromium !== \"undefined\" &&\n        vendorName === \"Google Inc.\" &&\n        isOpera === false &&\n        isIEedge === false;\n});\n\n// https://github.com/Polymer/pwa-helpers\nexport const installOfflineWatcher = offlineUpdatedCallback => {\n   ifBrowser(()=>{\n       window.addEventListener('online', () => offlineUpdatedCallback(false));\n       window.addEventListener('offline', () => offlineUpdatedCallback(true));\n       offlineUpdatedCallback(navigator.onLine === false);\n   })\n};\n\nexport const getCookie = (name, _out = null) => {\n    if (document.cookie && document.cookie !== '') {\n        let cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            let cookie = cookies[i].trim();\n            if (cookie.substring(0, name.length + 1) === (name + \"=\")) {\n                _out = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return _out;\n};","export const objectIsEmpty = obj => Object.keys(obj || {}).length === 0;\n\nexport const arrayIncludesItemFromArray = (arr1, arr2) => {\n    let len1 = arr1.length, len2 = arr2.length;\n    if (!len1 && !len2 || len1 && !len2 || !len1 && len2) return false;\n    for (let i = len1; i--;) if (arr2.includes(arr1[i])) return true;\n    return false;\n};\n\nexport const arrayIncludesAllItemsFromArray = (arr1, arr2) => {\n    let len1 = arr1.length, len2 = arr2.length;\n    if (!len1 && !len2 || len1 && !len2 || !len1 && len2) return false;\n    for (let i = len2; i--;) if (arr1.includes(arr2[i])) return true;\n    return false;\n};\n\n/**\n * compare 2 array\n * @param {array} before\n * @param {array} after\n * @example\n * isEqualArray([1,2,3,4],[1,2,3,4]) // true\n * isEqualArray([1,2,3,4],[1,2,3])   // false\n * isEqualArray([5,1,2,3],[1,2,3,5]) // false\n * isEqualArray([],[]) // true\n * @returns {boolean}\n */\nexport const isEqualArray = (before, after) => {\n    let length = before.length;\n    if (length !== after.length) return false;\n    for (let i = 0; i < length; i++) if (before[i] !== after[i]) return false;\n    return true;\n};\n\nexport const propsChanged = (a, b) => {\n    a = a || {};\n    b = b || {};\n    for (let i in a) if (!(i in b)) return true;\n    for (let i in b) if (a[i] !== b[i]) return true;\n    return false\n};","export const NOOP = () => {\n};","export const getUnixTimeStampNow = () => Math.round(+new Date() / 1000);\n\nexport const formatSeconds = seconds =>\n    Object.entries({hr: seconds / 3600, min: (seconds % 3600) / 60, sec: (seconds % 3600) % 60})\n        .reduce((acc, [t, a, amount = Math.floor(a)]) => {\n            amount = amount ? amount + `${t} ` : '';\n            acc = acc + amount;\n            return acc;\n        }, '');","export function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}","export const isArray = Array.isArray;\nexport const isObj = (thing) => Object.prototype.toString.call(thing) === '[object Object]';\nexport const isFunc = (thing) => typeof thing === 'function';\nexport const isString = (thing) => typeof thing === 'string';\nexport const isNum = (thing) => !isNaN(parseFloat(thing)) && !isNaN(thing - 0);\nexport const isBool = (thing) => typeof thing === 'boolean';\nexport const isObjOrArr = thing => (isObj(thing) || isArray(thing));","import {isArray, isObj, isObjOrArr} from \"./typeChecking\";\n\nexport const deepCopy = o => {\n    let copy = isObj(o) ? {} : isArray(o) ? [] : o;\n    if (isObjOrArr(o)) for (let k in o) copy[k] = isObjOrArr(o[k]) ? deepCopy(o[k]) : o[k];\n    return copy;\n};\n","export const Subie = (subs = [], _unsub = it => subs.splice(subs.indexOf(it) >>> 0, 1)) => [\n    it => ((subs.push(it), () => _unsub(it))),\n    (...data) => subs.slice().map(f => (f(...data)))\n];\n","import {ifBrowser} from \"./browser\";\nimport {Subie} from \"./Subie\";\n\n\nexport const addListener = (to, ev, cb) => to.addEventListener(ev, cb);\nexport const removeListener = (from, ev, cb) => from.removeEventListener(ev, cb);\nexport const eventListener = (to, ev, cb, opts) => {\n    if (!Array.isArray(to)) return addListener(to, ev, cb, opts), () => removeListener(to, ev, cb);\n    let unListenAll = [];\n    to.forEach(l => {\n        addListener(l[0], l[1], l[2], l[3]);\n        unListenAll.push(() => removeListener(l[0], l[1], l[2]));\n    });\n    return () => unListenAll.forEach(f => f());\n};\n\n\n//synthetic events\nexport const Eve = (all) => {\n    all = all || Object.create(null);\n    let off = (event, handler) => all[event] && all[event].splice(all[event].indexOf(handler) >>> 0, 1),\n        on = (event, handler) => ((all[event] || (all[event] = [])).push(handler), () => off(event, handler));\n    return {\n        on, off, destroy: (event) => delete all[event],\n        emit: (event, ...data) => {\n            (all[event] || []).slice().map(fn => fn(...data));\n            (all['*'] || []).slice().map(fn => fn(event, ...data));\n        }\n    };\n};\n\nexport const Eventer = (all) => {\n    all = all || Object.create(null);\n    let on = (event, handler) => (all[event] || (all[event] = [])).push(handler),\n        off = (event, handler) => all[event] && all[event].splice(all[event].indexOf(handler) >>> 0, 1),\n        counter = 0, once = (event, handler) => {\n            const func = {}, oneTimeCall = (counter++) + '', unregister = () => off(event, func[oneTimeCall]);\n            func[oneTimeCall] = (...data) => (handler(...data), unregister());\n            on(event, func[oneTimeCall]);\n            return unregister;\n        };\n    return {\n        on, off, once, destroy: (event) => delete all[event],\n        emit: (event, ...data) => {\n            (all[event] || []).slice().map(fn => fn(...data));\n            (all['*'] || []).slice().map(fn => fn(event, ...data));\n        }\n\n    };\n};\n\n//real dom events\nexport const Events = () => {\n    let handlers = {},\n        Handler = () => {\n            let [sub, notify] = Subie();\n            return {\n                listener: ({detail}) => notify(detail),\n                sub,\n            }\n        },\n        on = (event, handler) => {\n            if (!handlers[event]) {\n                handlers[event] = Handler();\n                ifBrowser(() => {\n                    addListener(window, event, handlers[event].listener)\n                })\n            }\n            return handlers[event].sub(handler);\n        };\n\n    return {\n        on,\n        once: (event, handler) => {\n            let unsub = on(event, (data) => {\n                handler(data);\n                unsub();\n            });\n            return unsub\n        },\n        emit: (event, data) =>\n            ifBrowser(() => {\n                window.dispatchEvent(\n                    new CustomEvent(event, {detail: data, bubbles: true, composed: true})\n                )\n            }),\n    }\n};\n\n","export const extend = (obj, props) => {\n    for (let i in props) obj[i] = props[i];\n    return obj\n};","export const jsonParse = str => {\n    let result;\n    try {\n        result = {ok: true, data: JSON.parse(str)}\n    } catch (e) {\n        result = {ok: false}\n    }\n    return result;\n};","import {isBrowser} from \"./browser\";\nimport {jsonParse} from \"./jsonParse\";\n\nlet ls = {\n    getItem: () => {\n    }\n};\n\nif(isBrowser){\n    ls = window.localStorage;\n}\n\nexport const localStore = {\n    clear: () => ls.clear(),\n    removeItem: key => ls.removeItem(key),\n    setItem: (key, val) => ls.setItem(key, JSON.stringify(val)),\n    getItem: key => {\n        let item = ls.getItem(key);\n        if (!item || item === 'undefined') return null;\n        const {ok, data} = jsonParse(item);\n        return ok ? data : null;\n    }\n};\n","export const Q = (count = 0, queue = {}) => ({\n    nq: cb => queue[`${count++}`] = cb,\n    kill: queue = {},\n    invoke: () => Object.keys(queue).forEach(q => (queue[q](), delete queue[q]))\n});","\nexport const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min)) + min;\n\nexport const getRandomOneOf = (arr) => arr[getRandomInt(0, arr.length - 1)];\n\n","export const toValue = (mix) => {\n    if (!mix) return '';\n    var str = decodeURIComponent(mix);\n    if (str === 'false') return false;\n    if (str === 'true') return true;\n    return (+str * 0 === 0) ? (+str) : str;\n};\nexport const getParams = (str) => {\n    let tmp, k, out = {}, indi;\n    str = str || window.location.search;\n    indi = str.indexOf(\"?\");\n    if (indi < 0) return;\n    str = str.substr(indi + 1);\n    let arr = str.split('&');\n    while (tmp = arr.shift()) {\n        tmp = tmp.split('=');\n        k = tmp.shift();\n        if (out[k] !== void 0) out[k] = [].concat(out[k], toValue(tmp.shift()));\n        else out[k] = toValue(tmp.shift());\n    }\n    return out;\n};\nexport const stringifyParams = (obj) => {\n    var enc = encodeURIComponent, k, i, tmp, str = '';\n    for (k in obj) {\n        if ((tmp = obj[k]) !== void 0) {\n            if (Array.isArray(tmp)) {\n                for (i = 0; i < tmp.length; i++) {\n                    str && (str += '&');\n                    str += enc(k) + '=' + enc(tmp[i]);\n                }\n            } else {\n                str && (str += '&');\n                str += enc(k) + '=' + enc(tmp);\n            }\n        }\n    }\n    return '?' + str;\n};","import {NOOP} from \"./constants\";\nimport {eventListener} from \"./events\";\nimport {ifBrowser} from \"./browser\";\n\nexport const ScrollLocker = (_stopScroll, _xscroll, _yscroll, dom) => {\n    dom = dom || ifBrowser(() => window);\n    return {\n        unlisten: ifBrowser(() => {\n            return eventListener(dom, 'scroll', () => _stopScroll && dom.scrollTo(_xscroll, _yscroll))\n        }, NOOP),\n        lock: () => {\n            _stopScroll = true;\n            _xscroll = (ifBrowser(() => window)).pageXOffset;// || window.document.documentElement.scrollLeft\n            _yscroll = (ifBrowser(() => window)).pageYOffset;// || window.document.documentElement.scrollTop;\n        },\n        letGo: () => (_stopScroll = false)\n    }\n};","export const sortOrderOfObjArr = (arr, objProp, descend) => {\n    let nameA, nameB, lowerIt = val => typeof val === 'string' ? val.toLowerCase() : val;\n    return arr.sort((a, b) => {\n        nameA = lowerIt(a[objProp]);\n        nameB = lowerIt(b[objProp]);\n        if (nameA < nameB) return descend ? 1 : -1;\n        if (nameA > nameB) return descend ? -1 : 1;\n        return 0;\n    });\n};\n\nexport const reorder = (list, startIndex, endIndex) => {\n    const result = [...list];\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n};\n","/**\n * capitalizes a string\n * @param {String} string - string to upperCase\n * @returns {String} - all caps string\n */\nexport const allCaps = (string) => string.toUpperCase();\n/**\n * capitalises the first letter of the first word in a string\n * @param {String} string - to capitalize\n * @returns {string} - string with first char capitalized\n */\nexport const capFirstLet = (string) => string.charAt(0).toUpperCase() + string.slice(1);\n\n/**\n * capitalizes the first letter of every word in a string\n * @param {String} string - to capitalize\n * @returns {String} - string with every first letter capitalized\n */\nexport const capEveryFirst = (string) => string.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n\n/**\n * capitalize a string with different options.\n *\n * @param {String} string - to capitalize\n * @param {String} option - 'everyFirst', 'first', or undefined for all caps\n * @returns {String} - capitalized string\n */\nexport const capitalize = (string, option) =>\n    option === 'everyFirst'\n        ? capEveryFirst(string)\n        : (option === 'first'\n        ? capFirstLet(string)\n        : allCaps(string));\n\nexport const deKabob = text => text.split('-').join('');\n\nexport const deSnake = text => text.split('_').join(' ');\n\n/**\n * helper function to replace characters in a string with another value\n * @param {String} string - to replaces chars in\n * @param {Array} arr - an array of objects containing the key values to find and replace : string - to find, with - to replace with\n * @returns {String} - updated string\n */\nexport const textReplacer = (string, arr = [{string: '', with: '',}]) => {\n    let _text = string;\n    arr.forEach((obj) => {\n        _text = _text.split(obj.string).join(obj.with);\n    });\n    return _text;\n};\n\nconst replacements1 = [\n    {string: '_', with: ' '},\n    {string: '.', with: ' '},\n    {string: '-', with: ' '},\n];\n\nexport const camelCase = (value) => {\n    value = textReplacer(value, replacements1);\n    value = capitalize(value, 'everyFirst');\n    value = textReplacer(value, [{string: ' ', with: ''}]);\n    return value.charAt(0).toLowerCase() + value.slice(1);\n};","/**\n * creates a single style sheet. returns a function to update the same sheet\n * @param {node|| null} mount - pass the node to mount the style element to defaults to document head\n * @returns {function} for adding styles to the same stylesheet\n */\nexport const headStyleTag = (mount) => {\n    let style = document.createElement('style');\n    style.appendChild(document.createTextNode(\"\"));\n    (mount || document.head).appendChild(style);\n    return (css) => (style.appendChild(document.createTextNode(css)), style);\n};\n\nexport const toCssVarsFromJsThemeObj = (themeObj) =>\n    Object.keys(themeObj).reduce((acc, curr) =>\n        ((acc[curr] = `var(--${curr},${themeObj[curr]})`), acc), {});\n\nexport const convertThemeToCssVars = (vars, selector) =>\n    `${selector || ':root'}{${Object.keys(vars).map((key) => `--${key}:${vars[key]};`).join('')}}`;\n\nexport const raf = (fn) => requestAnimationFrame(fn);\n\nexport const CSSTextToObj = cssText => {\n    var style = {},\n        cssToJs = s => s.startsWith('-') ? s : s.replace(/\\W+\\w/g, match => match.slice(-1).toUpperCase()),\n        properties = cssText.split(\";\").map(o => o.split(\":\").map(x => x && x.trim()));\n    for (var [property, value] of properties) {\n        let prop = cssToJs(property);\n        if (prop) style[prop] = value;\n    }\n    return style\n};\n\nexport const hexToRgbA = (hex, opacity) => {\n    let c = [...hex.substring(1)];\n    if (c.length === 3) c = [c[0], c[0], c[1], c[1], c[2], c[2]];\n    c = `0x${c.join('')}`;\n    return `rgba(${[(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',')}, ${opacity || '1'})`;\n};\n\n\nexport const toHash = str =>\n    \"css\" +\n    str.split(\"\").reduce((out, i) => (10 * out + i.charCodeAt(0)) >>> 0, 0);\n","import {getUnixTimeStampNow} from \"./dateTime\";\n\nconst s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\nexport const uuid = () => s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n    s4() + '-' + s4() + s4() + s4();\n\nexport const uniqueId = () => uuid + '-' + getUnixTimeStampNow();","\nconst validEmailRegexp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nexport const isValidEmail = email => validEmailRegexp.test(email);","\nexport const supportsCustomElementsV1 = 'customElements' in window;\n\nexport const isCustomElement = (el, isAttr) => {\n    if (!el.getAttribute || !el.localName) return false;\n    isAttr = el.getAttribute('is');\n    return el.localName.includes('-') || isAttr && isAttr.includes('-');\n};\n"],"names":["isBrowser","window","ifBrowser","callback","fallback","is_ie_or_old_edge","navigator","userAgent","indexOf","winodw","StyleMedia","document","documentMode","isChrome","isChromium","chrome","winNav","vendorName","vendor","isOpera","opr","isIEedge","match","installOfflineWatcher","offlineUpdatedCallback","addEventListener","onLine","getCookie","name","_out","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","objectIsEmpty","obj","Object","keys","arrayIncludesItemFromArray","arr1","arr2","len1","len2","includes","arrayIncludesAllItemsFromArray","isEqualArray","before","after","propsChanged","a","b","NOOP","getUnixTimeStampNow","Math","round","Date","formatSeconds","seconds","entries","hr","min","sec","reduce","acc","t","amount","floor","debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","isArray","Array","isObj","thing","prototype","toString","call","isFunc","isString","isNum","isNaN","parseFloat","isBool","isObjOrArr","deepCopy","o","copy","k","Subie","subs","_unsub","it","splice","push","data","slice","map","f","addListener","to","ev","cb","removeListener","from","removeEventListener","eventListener","opts","unListenAll","forEach","l","Eve","all","create","off","event","handler","on","destroy","emit","fn","Eventer","counter","once","oneTimeCall","unregister","Events","handlers","sub","notify","listener","detail","Handler","unsub","dispatchEvent","CustomEvent","bubbles","composed","extend","props","jsonParse","str","result","ok","JSON","parse","e","ls","getItem","localStorage","localStore","clear","removeItem","key","setItem","val","stringify","item","Q","count","queue","nq","kill","invoke","q","getRandomInt","max","random","getRandomOneOf","arr","toValue","mix","getParams","tmp","indi","out","location","search","substr","shift","concat","stringifyParams","enc","encodeURIComponent","ScrollLocker","_stopScroll","_xscroll","_yscroll","dom","unlisten","scrollTo","lock","pageXOffset","pageYOffset","letGo","sortOrderOfObjArr","objProp","descend","nameA","nameB","lowerIt","toLowerCase","sort","reorder","list","startIndex","endIndex","removed","allCaps","string","toUpperCase","capFirstLet","charAt","capEveryFirst","replace","txt","capitalize","option","deKabob","text","join","deSnake","textReplacer","with","_text","replacements1","camelCase","value","headStyleTag","mount","style","createElement","appendChild","createTextNode","head","css","toCssVarsFromJsThemeObj","themeObj","curr","convertThemeToCssVars","vars","selector","raf","requestAnimationFrame","CSSTextToObj","cssText","s","properties","x","property","prop","startsWith","hexToRgbA","hex","opacity","c","toHash","charCodeAt","s4","uuid","uniqueId","validEmailRegexp","isValidEmail","email","test","supportsCustomElementsV1","isCustomElement","el","isAttr","getAttribute","localName"],"mappings":"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"}